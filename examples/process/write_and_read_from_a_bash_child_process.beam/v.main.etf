{c_module,[],{c_literal,[],'v.main'},[{c_var,[],{'exec',1}},{c_var,[],{'main',0}},{c_var,[],{'module_info',0}},{c_var,[],{'module_info',1}}],[],[{{c_var,[],{'exec',1}},{c_fun,[],[{c_var,[],'Cmd'}],{c_let,[],[{c_var,[],'Out'}],{c_literal,[],[]},{c_let,[],[{c_var,[],'Er'}],{c_literal,[],[]},{c_let,[],[{c_var,[],'Rc'}],{c_literal,[],0},{c_let,[],[{c_var,[],'P'}],{c_literal,[],'undefined'},{c_seq,[],{c_literal,[],'ok'},{c_seq,[],{c_let,[],[{c_var,[],'_1'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_2'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'args'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_3'}],{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'run'},[{c_var,[],'_1'}, {c_var,[],'_2'}]},{c_let,[],[{c_var,[],'_4'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'element'},[{c_literal,[],2}, {c_var,[],'_3'}]},{c_let,[],[{c_var,[],'_5'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'put'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_1'}]}, {c_var,[],'_4'}]},{c_literal,[],'ok'}}}}}},{c_seq,[],{c_let,[],[{c_var,[],'_6'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_7'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_6'}]}]},{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'stdin_write'},[{c_var,[],'_7'}, {c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"echo \"START         \" && sleep 0.1 && ">>},{c_cons,[],{c_var,[],'Cmd'},{c_cons,[],{c_literal,[],<<";\\n">>},{c_literal,[],[]}}}}]}]}}},{c_seq,[],{c_let,[],[{c_var,[],'_8'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_9'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_8'}]}]},{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'stdin_write'},[{c_var,[],'_9'}, {c_literal,[],<<"ECODE=\\$?;\\n">>}]}}},{c_seq,[],{c_let,[],[{c_var,[],'_10'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_11'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_10'}]}]},{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'stdin_write'},[{c_var,[],'_11'}, {c_literal,[],<<"sleep 0.1;\\n">>}]}}},{c_seq,[],{c_let,[],[{c_var,[],'_12'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_13'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_12'}]}]},{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'stdin_write'},[{c_var,[],'_13'}, {c_literal,[],<<"exit \\$ECODE;\\n">>}]}}},{c_letrec,[],[{{c_var,[],{'loop_14',0}},{c_fun,[],[],{c_case,[],{c_let,[],[{c_var,[],'_15'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_16'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_15'}]}]},{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'is_port'},[{c_var,[],'_16'}]}}},[{c_clause,[],[{c_literal,[],'true'}],{c_literal,[],'true'},{c_seq,[],{c_case,[],{c_try,[],{c_apply,[],{c_var,[],{'Process.pipe_read',2}},[{c_var,[],'P'}, {c_literal,[],'stderr'}]},[{c_var,[],'_cor17'}],{c_tuple,[],[{c_literal,[],'ok'}, {c_var,[],'_cor17'}]},[{c_var,[],'_cor_c'},{c_var,[],'_cor_r'},{c_var,[],'_cor_s'}],{c_literal,[],'error'}},[{c_clause,[],[{c_tuple,[],[{c_literal,[],'ok'}, {c_var,[],'Data'}]}],{c_literal,[],true},{c_seq,[],{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],'standard_error'}, {c_literal,[],"~s~n"}, {c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"p.pipe_read .stderr, len: ">>},{c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'integer_to_binary'},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'byte_size'},[{c_var,[],'Data'}]}]},{c_cons,[],{c_literal,[],<<" | data: `">>},{c_cons,[],{c_call,[],{c_literal,[],'lists'},{c_literal,[],'nth'},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'+'},[{c_call,[],{c_literal,[],'lists'},{c_literal,[],'seq'},[{c_literal,[],0}, {c_literal,[],10}]}, {c_literal,[],1}]}, {c_var,[],'Data'}]},{c_cons,[],{c_literal,[],<<"`...">>},{c_literal,[],[]}}}}}}]},{c_literal,[],[]}}]},{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'++'},[{c_var,[],'Er'}, {c_cons,[],{c_var,[],'Data'},{c_literal,[],[]}}]}}},{c_clause,[],[{c_var,[],'_'}],{c_literal,[],true},{c_literal,[],'ok'}}]},{c_seq,[],{c_case,[],{c_try,[],{c_apply,[],{c_var,[],{'Process.pipe_read',2}},[{c_var,[],'P'}, {c_literal,[],'stdout'}]},[{c_var,[],'_cor19'}],{c_tuple,[],[{c_literal,[],'ok'}, {c_var,[],'_cor19'}]},[{c_var,[],'_cor_c'},{c_var,[],'_cor_r'},{c_var,[],'_cor_s'}],{c_literal,[],'error'}},[{c_clause,[],[{c_tuple,[],[{c_literal,[],'ok'}, {c_var,[],'Data_18'}]}],{c_literal,[],true},{c_seq,[],{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],'standard_error'}, {c_literal,[],"~s~n"}, {c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"p.pipe_read .stdout, len: ">>},{c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'integer_to_binary'},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'byte_size'},[{c_var,[],'Data_18'}]}]},{c_cons,[],{c_literal,[],<<" | data: `">>},{c_cons,[],{c_call,[],{c_literal,[],'lists'},{c_literal,[],'nth'},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'+'},[{c_call,[],{c_literal,[],'lists'},{c_literal,[],'seq'},[{c_literal,[],0}, {c_literal,[],10}]}, {c_literal,[],1}]}, {c_var,[],'Data_18'}]},{c_cons,[],{c_literal,[],<<"`...">>},{c_literal,[],[]}}}}}}]},{c_literal,[],[]}}]},{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'++'},[{c_var,[],'Out'}, {c_cons,[],{c_var,[],'Data_18'},{c_literal,[],[]}}]}}},{c_clause,[],[{c_var,[],'_'}],{c_literal,[],true},{c_literal,[],'ok'}}]},{c_seq,[],{c_call,[],{c_literal,[],'timer'},{c_literal,[],'sleep'},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'*'},[{c_literal,[],2}, {c_call,[],{c_literal,[],'erlang'},{c_literal,[],'*'},[{c_literal,[],1000}, {c_call,[],{c_literal,[],'erlang'},{c_literal,[],'*'},[{c_literal,[],1000}, {c_literal,[],1}]}]}]}]},{c_apply,[],{c_var,[],{'loop_14',0}},[]}}}}},{c_clause,[],[{c_literal,[],'false'}],{c_literal,[],'true'},{c_literal,[],'ok'}}]}}}],{c_seq,[],{c_apply,[],{c_var,[],{'loop_14',0}},[]},{c_let,[],[{c_var,[],'Out_20'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'++'},[{c_var,[],'Out'}, {c_cons,[],{c_let,[],[{c_var,[],'_21'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_22'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_21'}]}]},{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'stdout_slurp'},[{c_var,[],'_22'}]}}},{c_literal,[],[]}}]},{c_let,[],[{c_var,[],'Er_23'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'++'},[{c_var,[],'Er'}, {c_cons,[],{c_let,[],[{c_var,[],'_24'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_25'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_24'}]}]},{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'stdout_slurp'},[{c_var,[],'_25'}]}}},{c_literal,[],[]}}]},{c_seq,[],{c_let,[],[{c_var,[],'_26'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_27'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_26'}]}]},{c_let,[],[{c_var,[],'_28'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'erase'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_26'}]}]},{c_literal,[],'ok'}}}},{c_seq,[],{c_let,[],[{c_var,[],'_29'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'filename'}, {c_var,[],'P'}]},{c_let,[],[{c_var,[],'_30'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get'},[{c_tuple,[],[{c_literal,[],'vbeam_process'}, {c_var,[],'_29'}]}]},{c_call,[],{c_literal,[],'vbeam_process'},{c_literal,[],'wait'},[{c_var,[],'_30'}]}}},{c_let,[],[{c_var,[],'Rc_31'}],{c_case,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'>'},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'map_get'},[{c_literal,[],'code'}, {c_var,[],'P'}]}, {c_literal,[],0}]},[{c_clause,[],[{c_literal,[],'true'}],{c_literal,[],true},{c_seq,[],{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],'standard_error'}, {c_literal,[],"~s~n"}, {c_cons,[],{c_literal,[],<<"----------------------------------------------------------">>},{c_literal,[],[]}}]},{c_seq,[],{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],'standard_error'}, {c_literal,[],"~s~n"}, {c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"COMMAND: ">>},{c_cons,[],{c_var,[],'Cmd'},{c_literal,[],[]}}}]},{c_literal,[],[]}}]},{c_seq,[],{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],'standard_error'}, {c_literal,[],"~s~n"}, {c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"STDOUT:\\n">>},{c_cons,[],{c_var,[],'Out_20'},{c_literal,[],[]}}}]},{c_literal,[],[]}}]},{c_seq,[],{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],'standard_error'}, {c_literal,[],"~s~n"}, {c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"STDERR:\\n">>},{c_cons,[],{c_var,[],'Er_23'},{c_literal,[],[]}}}]},{c_literal,[],[]}}]},{c_seq,[],{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],'standard_error'}, {c_literal,[],"~s~n"}, {c_cons,[],{c_literal,[],<<"----------------------------------------------------------">>},{c_literal,[],[]}}]},{c_literal,[],1}}}}}}},{c_clause,[],[{c_literal,[],'false'}],{c_literal,[],true},{c_var,[],'Rc'}}]},{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_call,[],{c_literal,[],'lists'},{c_literal,[],'join'},[{c_literal,[],<<"">>}, {c_var,[],'Out_20'}]}]}}}}}}}}}}}}}}}}}}}},{{c_var,[],{'main',0}},{c_fun,[],[],{c_let,[],[{c_var,[],'Out'}],{c_literal,[],<<"">>},{c_let,[],[{c_var,[],'Er'}],{c_literal,[],<<"">>},{c_let,[],[{c_var,[],'Ecode'}],{c_literal,[],0},{c_seq,[],{c_try,[],{c_call,[],{c_literal,[],'filelib'},{c_literal,[],'ensure_dir'},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'binary_to_list'},[{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]}]}]},[{c_var,[],'_cor1'}],{c_var,[],'_cor1'},[{c_var,[],'_cor_c1'},{c_var,[],'_cor_r1'},{c_var,[],'_cor_s1'}],{c_literal,[],'ok'}},{c_seq,[],{c_let,[],[{c_var,[],'_2'}],{c_fun,[],[{c_var,[],'I'}],{c_try,[],{c_call,[],{c_literal,[],'file'},{c_literal,[],'write_file'},[{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]}, {c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'integer_to_binary'},[{c_var,[],'I'}]},{c_cons,[],{c_literal,[],<<".txt">>},{c_literal,[],[]}}}]}]}, {c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'integer_to_binary'},[{c_var,[],'I'}]},{c_cons,[],{c_literal,[],<<"\\n">>},{c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'integer_to_binary'},[{c_var,[],'I'}]},{c_cons,[],{c_literal,[],<<"\\n">>},{c_literal,[],[]}}}}}]}]},[{c_var,[],'_cor4'}],{c_var,[],'_cor4'},[{c_var,[],'_cor_c4'},{c_var,[],'_cor_r4'},{c_var,[],'_cor_s4'}],{c_literal,[],'ok'}}},{c_let,[],[{c_var,[],'_3'}],{c_call,[],{c_literal,[],'lists'},{c_literal,[],'seq'},[{c_literal,[],0}, {c_call,[],{c_literal,[],'erlang'},{c_literal,[],'-'},[{c_literal,[],20}, {c_literal,[],1}]}]},{c_call,[],{c_literal,[],'lists'},{c_literal,[],'foreach'},[{c_var,[],'_2'}, {c_var,[],'_3'}]}}},{c_let,[],[{c_var,[],'Out_5'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"find ">>},{c_cons,[],{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]},{c_cons,[],{c_literal,[],<<" ; sleep 0.1; find ">>},{c_cons,[],{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]},{c_cons,[],{c_literal,[],<<" ; echo '******'">>},{c_literal,[],[]}}}}}}]}]},}{c_let,[],[{c_var,[],'Ecode_6'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"find ">>},{c_cons,[],{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]},{c_cons,[],{c_literal,[],<<" ; sleep 0.1; find ">>},{c_cons,[],{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]},{c_cons,[],{c_literal,[],<<" ; echo '******'">>},{c_literal,[],[]}}}}}}]}]},}{c_let,[],[{c_var,[],'Er_7'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"find ">>},{c_cons,[],{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]},{c_cons,[],{c_literal,[],<<" ; sleep 0.1; find ">>},{c_cons,[],{c_call,[],{c_literal,[],'filename'},{c_literal,[],'join'},[{c_literal,[],<<"/tmp">>}, {c_literal,[],<<"process_folder">>}]},{c_cons,[],{c_literal,[],<<" ; echo '******'">>},{c_literal,[],[]}}}}}}]}]},{c_let,[],[{c_var,[],'Out_8'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"echo to stdout">>}]},}{c_let,[],[{c_var,[],'Ecode_9'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"echo to stdout">>}]},}{c_let,[],[{c_var,[],'Er_10'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"echo to stdout">>}]},{c_let,[],[{c_var,[],'Out_11'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"echo to stderr 1>&2">>}]},}{c_let,[],[{c_var,[],'Ecode_12'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"echo to stderr 1>&2">>}]},}{c_let,[],[{c_var,[],'Er_13'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"echo to stderr 1>&2">>}]},{c_let,[],[{c_var,[],'Out_14'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"ls /sssss">>}]},}{c_let,[],[{c_var,[],'Ecode_15'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"ls /sssss">>}]},}{c_let,[],[{c_var,[],'Er_16'}],{c_apply,[],{c_var,[],{'exec',1}},[{c_literal,[],<<"ls /sssss">>}]},{c_call,[],{c_literal,[],'io'},{c_literal,[],'format'},[{c_literal,[],"~s~n"}, {c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'iolist_to_binary'},[{c_cons,[],{c_literal,[],<<"test ok stderr & stdout is indeed redirected, ecode: ">>},{c_cons,[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'integer_to_binary'},[{c_var,[],'Ecode_15'}]},{c_literal,[],[]}}}]},{c_literal,[],[]}}]}}}}}}}}}}}},{{c_var,[],{'module_info',0}},{c_fun,[],[],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get_module_info'},[{c_literal,[],'v.main'}]}}},{{c_var,[],{'module_info',1}},{c_fun,[],[{c_var,[],'_0'}],{c_call,[],{c_literal,[],'erlang'},{c_literal,[],'get_module_info'},[{c_literal,[],'v.main'}, {c_var,[],'_0'}]}}}]}